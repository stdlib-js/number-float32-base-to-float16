{
  "version": 3,
  "sources": ["../lib/main.js", "../lib/polyfill.js", "../lib/index.js"],
  "sourcesContent": ["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar f16round = ( typeof Math.f16round === 'function' ) ? Math.f16round : null; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = f16round;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isnanf = require( '@stdlib/math-base-assert-is-nanf' );\nvar f32 = require( '@stdlib/number-float64-base-to-float32' );\nvar isFiniteNumber = require( '@stdlib/math-base-assert-is-finitef' );\nvar FLOAT16_EPSILON = require( '@stdlib/constants-float16-eps' );\nvar FLOAT16_MAX = require( '@stdlib/constants-float16-max' );\nvar FLOAT16_MIN = require( '@stdlib/constants-float16-smallest-normal' );\nvar EPS = require( '@stdlib/constants-float32-eps' );\nvar PINF = require( '@stdlib/constants-float32-pinf' );\nvar absf = require( '@stdlib/math-base-special-absf' );\n\n\n// VARIABLES //\n\nvar INVERSE_EPSILON = f32( 1.0 / EPS );\n\n\n// FUNCTIONS //\n\n/**\n* Performs banker's rounding (round-half-to-even) via floating-point arithmetic.\n*\n* @private\n* @param {number} n - input value\n* @returns {number} rounded value\n*/\nfunction roundTiesToEven( n ) {\n\treturn f32( f32( n + INVERSE_EPSILON ) - INVERSE_EPSILON );\n}\n\n\n// MAIN //\n\n/**\n* Converts a single-precision floating-point number to the nearest half-precision floating-point number.\n*\n* @param {number} x - single-precision floating-point number\n* @returns {number} nearest half-precision floating-point number\n*\n* @example\n* var float64ToFloat32 = require( '@stdlib/number-float64-base-to-float32' );\n*\n* var y = float32ToFloat16( float64ToFloat32( 1.337 ) );\n* // returns 1.3369140625\n*/\nfunction float32ToFloat16( x ) {\n\tvar res;\n\tvar mod;\n\tvar a;\n\tvar s;\n\n\tx = f32( x );\n\tif ( x === 0.0 || isnanf( x ) || !isFiniteNumber( x ) ) {\n\t\treturn x;\n\t}\n\tif ( x < 0.0 ) {\n\t\ts = f32( -1.0 );\n\t} else {\n\t\ts = f32( 1.0 );\n\t}\n\tmod = absf( x );\n\tif ( mod < FLOAT16_MIN ) {\n\t\treturn f32( f32( f32( s * roundTiesToEven( f32( f32( mod / FLOAT16_MIN ) / FLOAT16_EPSILON ) ) ) * FLOAT16_MIN ) * FLOAT16_EPSILON ); // eslint-disable-line max-len\n\t}\n\t// Leverage Veltkamp's algorithm for splitting a number into two numbers to generate an approximation to `x` which fits in a smaller number of bits:\n\ta = f32( f32( 1.0 + f32( FLOAT16_EPSILON / EPS ) ) * mod );\n\tres = f32( a - f32( a - mod ) );\n\n\tif ( res > FLOAT16_MAX || isnanf( res ) ) {\n\t\treturn f32( s * PINF );\n\t}\n\treturn f32( s * res );\n}\n\n\n// EXPORTS //\n\nmodule.exports = float32ToFloat16;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Convert a single-precision floating-point number to the nearest half-precision floating-point number.\n*\n* @module @stdlib/number-float32-base-to-float16\n*\n* @example\n* var float64ToFloat32 = require( '@stdlib/number-float64-base-to-float32' );\n* var float32ToFloat16 = require( '@stdlib/number-float32-base-to-float16' );\n*\n* var y = float32ToFloat16( float64ToFloat32( 1.337 ) );\n* // returns 1.3369140625\n*/\n\n// MODULES //\n\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar main;\nif ( typeof builtin === 'function' ) {\n\tmain = builtin;\n} else {\n\tmain = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],
  "mappings": "uGAAA,IAAAA,EAAAC,EAAA,SAAAC,EAAAC,EAAA,cAsBA,IAAIC,EAAa,OAAO,KAAK,UAAa,WAAe,KAAK,SAAW,KAKzED,EAAO,QAAUC,IC3BjB,IAAAC,EAAAC,EAAA,SAAAC,EAAAC,EAAA,cAsBA,IAAIC,EAAS,QAAS,kCAAmC,EACrDC,EAAM,QAAS,wCAAyC,EACxDC,EAAiB,QAAS,qCAAsC,EAChEC,EAAkB,QAAS,+BAAgC,EAC3DC,EAAc,QAAS,+BAAgC,EACvDC,EAAc,QAAS,2CAA4C,EACnEC,EAAM,QAAS,+BAAgC,EAC/CC,EAAO,QAAS,gCAAiC,EACjDC,EAAO,QAAS,gCAAiC,EAKjDC,EAAkBR,EAAK,EAAMK,CAAI,EAYrC,SAASI,EAAiBC,EAAI,CAC7B,OAAOV,EAAKA,EAAKU,EAAIF,CAAgB,EAAIA,CAAgB,CAC1D,CAiBA,SAASG,EAAkBC,EAAI,CAC9B,IAAIC,EACAC,EACAC,EACAC,EAGJ,OADAJ,EAAIZ,EAAKY,CAAE,EACNA,IAAM,GAAOb,EAAQa,CAAE,GAAK,CAACX,EAAgBW,CAAE,EAC5CA,GAEHA,EAAI,EACRI,EAAIhB,EAAK,EAAK,EAEdgB,EAAIhB,EAAK,CAAI,EAEdc,EAAMP,EAAMK,CAAE,EACTE,EAAMV,EACHJ,EAAKA,EAAKA,EAAKgB,EAAIP,EAAiBT,EAAKA,EAAKc,EAAMV,CAAY,EAAIF,CAAgB,CAAE,CAAE,EAAIE,CAAY,EAAIF,CAAgB,GAGpIa,EAAIf,EAAKA,EAAK,EAAMA,EAAKE,EAAkBG,CAAI,CAAE,EAAIS,CAAI,EACzDD,EAAMb,EAAKe,EAAIf,EAAKe,EAAID,CAAI,CAAE,EAEzBD,EAAMV,GAAeJ,EAAQc,CAAI,EAC9Bb,EAAKgB,EAAIV,CAAK,EAEfN,EAAKgB,EAAIH,CAAI,GACrB,CAKAf,EAAO,QAAUa,IC/DjB,IAAIM,EAAU,IACVC,EAAW,IAKXC,EACC,OAAOF,GAAY,WACvBE,EAAOF,EAEPE,EAAOD,EAMR,OAAO,QAAUC",
  "names": ["require_main", "__commonJSMin", "exports", "module", "f16round", "require_polyfill", "__commonJSMin", "exports", "module", "isnanf", "f32", "isFiniteNumber", "FLOAT16_EPSILON", "FLOAT16_MAX", "FLOAT16_MIN", "EPS", "PINF", "absf", "INVERSE_EPSILON", "roundTiesToEven", "n", "float32ToFloat16", "x", "res", "mod", "a", "s", "builtin", "polyfill", "main"]
}
